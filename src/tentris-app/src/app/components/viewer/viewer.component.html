<mat-tab-group animationDuration="500ms" (selectedIndexChange)="onJsonRequest($event)">
  <mat-tab label="Output">
    <table style="border: ridge 1px;">
      <tr>
        <td>
          <mat-form-field>
            <input matInput (keyup)="mainFilter($event.target.value)" (keydown)="mainFilter($event.target.value)"
              placeholder="Table level filter" [disabled]="disableVal" [(ngModel)]="mainFilterValue">
          </mat-form-field>
          <mat-slide-toggle color="primary" style="margin-left: 20px; font-size: 14px; color: grey;" (click)="toggle()">
            Change to column
            level filter</mat-slide-toggle>
          <mat-checkbox color="primary"
            matTooltip="U - URI&nbsp;&nbsp;|&nbsp;&nbsp;L - Literal&nbsp;&nbsp;|&nbsp;&nbsp;B - Bnode"
            style="margin-left: 30px; font-size: 14px; color: grey;" (click)="toggleBadge()">Show data 'types'
          </mat-checkbox>
          <button mat-button [matMenuTriggerFor]="menu"
            style="margin-left: 25px; font-size: 14px; background-color: rgb(240, 240, 240); color: grey;">Download</button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="csv()">CSV</button>
          </mat-menu>
        </td>
        <td>
          <mat-spinner [diameter]="30"></mat-spinner>
        </td>
      </tr>
    </table>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>

      <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef><span mat-sort-header style="margin: 1px;">
            <h6><b>{{ column }}</b></h6>
          </span>
          <mat-form-field style="margin: 0px; width: 50%;" *ngIf="disableVal2==false">
            <input matInput (keyup)="colFilter($event.target.value, $event.target.placeholder)"
              (keydown)="colFilter($event.target.value, $event.target.placeholder)" placeholder="{{column}}"
              [disabled]="disableVal2">
          </mat-form-field>
        </th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element[column]?.type=='uri'; else elseBlock1">
            <span class="badge" *ngIf="badgeFlag==true">U</span>
            <a href="{{ element[column]?.value }}" target="_blank">{{ element[column]?.value }}</a></span>
          <ng-template #elseBlock1>
            <span *ngIf="element[column]?.type=='bnode'; else elseBlock2"><span class="badge"
                *ngIf="badgeFlag==true">B</span>{{ element[column]?.value }}</span>
            <ng-template #elseBlock2>
              <span *ngIf="element[column]?.datatype !=null && element[column]?.type=='literal'; else elseBlock3">
                <span class="badge" *ngIf="badgeFlag==true">L</span><span
                  [innerHTML]="element[column]?.value"></span></span>
              <ng-template #elseBlock3>
                <span class="badge" *ngIf="badgeFlag==true">L</span>{{ element[column]?.value }}
              </ng-template>
            </ng-template>
          </ng-template>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="pgSizeOptions" showFirstLastButtons></mat-paginator>

  </mat-tab>
  <mat-tab label="JSON">
    <pre>{{ beautified | json }}</pre>
  </mat-tab>
</mat-tab-group>